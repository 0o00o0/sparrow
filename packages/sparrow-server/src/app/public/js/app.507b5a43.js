(function(e){function t(t){for(var n,i,o=t[0],c=t[1],_=t[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,_||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/public/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var _=0;_<o.length;_++)t(o[_]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"000a":function(e,t,a){"use strict";var n=a("0faf"),r=a.n(n);r.a},"0035":function(e,t,a){},"0419":function(e,t,a){var n={"./3024-day.css":"e27f","./3024-night.css":"2c09","./abcdef.css":"6d0c","./ambiance-mobile.css":"8b9e","./ambiance.css":"0f7c","./ayu-dark.css":"cc5a","./ayu-mirage.css":"5514","./base16-dark.css":"8c2e","./base16-light.css":"cc10","./bespin.css":"89e2","./blackboard.css":"7393","./cobalt.css":"a8d9","./colorforth.css":"03a9","./darcula.css":"7ba3","./dracula.css":"0109","./duotone-dark.css":"e8b0","./duotone-light.css":"b6fc","./eclipse.css":"01cb","./elegant.css":"ac1e","./erlang-dark.css":"a524","./gruvbox-dark.css":"15ad","./hopscotch.css":"0176","./icecoder.css":"46ff","./idea.css":"b866","./isotope.css":"1ddb","./lesser-dark.css":"7b0e","./liquibyte.css":"cdf4","./lucario.css":"737c","./material-darker.css":"ebe1","./material-ocean.css":"5a25","./material-palenight.css":"d79d","./material.css":"d2e8","./mbo.css":"9603","./mdn-like.css":"eb8f","./midnight.css":"1ad7","./monokai.css":"7a7a","./moxer.css":"30c5","./neat.css":"bbca","./neo.css":"d5db","./night.css":"471d","./nord.css":"3dad","./oceanic-next.css":"8725","./panda-syntax.css":"fade","./paraiso-dark.css":"1b85","./paraiso-light.css":"281e","./pastel-on-dark.css":"068c","./railscasts.css":"4946","./rubyblue.css":"acdf","./seti.css":"ed9c","./shadowfox.css":"7f1a","./solarized.css":"8c06","./ssms.css":"eafa","./the-matrix.css":"c9a2","./tomorrow-night-bright.css":"2618","./tomorrow-night-eighties.css":"1759","./ttcn.css":"4659","./twilight.css":"7aa3","./vibrant-ink.css":"ad99","./xq-dark.css":"bd58","./xq-light.css":"8d7e","./yeti.css":"f0df","./yonce.css":"498a","./zenburn.css":"5bee"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="0419"},"0548":function(e,t,a){"use strict";var n=a("8073"),r=a.n(n);r.a},"0613":function(e,t,a){"use strict";var n=a("2b0e"),r=a("2f62");n["default"].use(r["a"]),t["a"]=new r["a"].Store({})},"0faf":function(e,t,a){},1:function(e,t){},"103d":function(e,t,a){},"24e7":function(e,t,a){"use strict";var n=a("3771"),r=a.n(n);r.a},2902:function(e,t,a){},2941:function(e,t,a){"use strict";var n=a("fa56"),r=a.n(n);r.a},"2b4a":function(e,t,a){"use strict";var n=a("4d14"),r=a.n(n);r.a},3771:function(e,t,a){},"3ebd":function(e,t,a){"use strict";a("c975"),a("d3b7"),a("ac1f"),a("1276");var n=a("3835"),r=a("8055"),s=a.n(r),i=a("63c0"),o=a("5c96"),c=s()(window.socketUrl||"//127.0.0.1:7001/",{reconnectionAttempts:3,transports:["websocket"]});c.on("error",(function(e){window.console.log("error")})),c.on("connect",(function(){window.console.log("服务连接成功")})),c.on("reconnecting",(function(){window.console.log("reconnecting")})),c.on("reconnect_failed",(function(){window.console.log("reconnect_failed")})),c.on("disconnect",(function(){window.console.log("disconnect")}));var _=c.emit.bind(c);c.emit=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return new Promise((function(e,a){var r=t[0];if(r.indexOf("adapter")>-1){var s=r.split("."),c=Object(n["a"])(s,3);c[0],c[1],c[2]}t[1]||t.push({}),t.push((function(t,n){t?(i["a"].close(),o["Notification"].error({title:"错误",message:t.message||"报错了！"}),a(t)):e(n)})),_.apply(void 0,t)}))},t["a"]=c},"416d":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("d4ec"),r=a("bee2"),s=a("99de"),i=a("7e84"),o=a("262e"),c=a("9ab4"),_=a("6fc5"),l=a("0613"),u=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(s["a"])(this,Object(i["a"])(t).apply(this,arguments)),e.config={},e}return Object(o["a"])(t,e),Object(r["a"])(t,[{key:"SET_CONFIG",value:function(e){this.config=e}},{key:"setConfig",value:function(e){this.SET_CONFIG(e)}}]),t}(_["d"]);c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Object]),c["c"]("design:returntype",void 0)],u.prototype,"SET_CONFIG",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Object]),c["c"]("design:returntype",void 0)],u.prototype,"setConfig",null),u=c["b"]([Object(_["b"])({dynamic:!0,store:l["a"],name:"setting"})],u);var d=Object(_["e"])(u)},"46f0":function(e,t,a){},"4d14":function(e,t,a){},"4ea3":function(e,t,a){},"50ac":function(e,t,a){},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"5d4b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"rule-list"},e._l(e.rules,(function(t,n){return a("div",{key:n,staticClass:"rule-item"},[a("el-form-item",{attrs:{label:"正则"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:function(t){return e.handleSelect(n,t)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("div",{staticClass:"name"},[e._v(e._s(n.label))])]}}],null,!0),model:{value:t.rule,callback:function(a){e.$set(t,"rule",a)},expression:"item.rule"}})],1),a("el-form-item",{attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"输入内容"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1),a("i",{staticClass:"el-icon-circle-close delete-item",on:{click:function(t){return e.deleteItem(n)}}})],1)})),0),a("div",{staticClass:"add-rule",on:{click:e.add}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 添加规则 ")])])},r=[],s=(a("4de4"),a("c975"),a("a434"),a("d4ec")),i=a("bee2"),o=a("99de"),c=a("7e84"),_=a("262e"),l=a("9ab4"),u=a("60a3"),d=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.ruleOptions=[{label:"协议",value:"/^(https?:|mailto:|tel:)/",tips:"协议错误"},{label:"URL",value:"/^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/",tips:"URL 错误"},{label:"LowerCase",value:"/^[a-z]+$/",tips:"LowerCase 错误"},{label:"UpperCase",value:"/^[A-Z]+$/",tips:"UpperCase 错误"},{label:"Alphabets",value:"/^[A-Za-z]+$/",tips:"Alphabets 错误"},{label:"Email",value:"/^w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*$/",tips:"Email 错误"}],e}return Object(_["a"])(t,e),Object(i["a"])(t,[{key:"add",value:function(){this.rules.push({rule:"",message:""})}},{key:"deleteItem",value:function(e){this.rules.splice(e,1)}},{key:"querySearch",value:function(e,t){var a=this.ruleOptions,n=e?a.filter(this.createFilter(e)):a;t(n)}},{key:"createFilter",value:function(e){return function(t){return 0===t.label.toLowerCase().indexOf(e.toLowerCase())}}},{key:"handleSelect",value:function(e,t){var a=this;this.rules[e].message=t.tips,setTimeout((function(){a.rules[e].rule=t.value}),1e3),console.log(e,t)}}]),t}(u["c"]);l["b"]([Object(u["b"])({default:function(){return[{rule:"",message:""}]}}),l["c"]("design:type",Object)],d.prototype,"rules",void 0),d=l["b"]([Object(u["a"])({name:"RuleList"})],d);var p=d,m=p,b=(a("f7be"),a("2877")),f=Object(b["a"])(m,n,r,!1,null,"02a52f52",null);t["a"]=f.exports},"5f2c":function(e,t,a){"use strict";var n=a("4ea3"),r=a.n(n);r.a},"5f44":function(e,t,a){},"63c0":function(e,t,a){"use strict";var n=a("5c96"),r=null;t["a"]={open:function(){r=n["Loading"].service({lock:!0,background:"rgba(0, 0, 0, 0)"})},close:function(){r&&r.close()}}},"6ae4":function(e,t,a){"use strict";var n=a("0035"),r=a.n(n);r.a},"75fa":function(e,t,a){"use strict";var n=a("103d"),r=a.n(n);r.a},7707:function(e,t,a){"use strict";var n=a("5f44"),r=a.n(n);r.a},7936:function(e,t,a){var n={"./apl/apl.js":"e249","./asciiarmor/asciiarmor.js":"26df","./asn.1/asn.1.js":"d0e1","./asterisk/asterisk.js":"c868","./brainfuck/brainfuck.js":"a05e","./clike/clike.js":"4ba6","./clojure/clojure.js":"2c0d","./cmake/cmake.js":"a84f","./cobol/cobol.js":"24d2","./coffeescript/coffeescript.js":"a0bd","./commonlisp/commonlisp.js":"9260","./crystal/crystal.js":"2512","./css/css.js":"7b00","./cypher/cypher.js":"bd6f","./d/d.js":"cd1c","./dart/dart.js":"eaaf","./diff/diff.js":"ddf9","./django/django.js":"4b34","./dockerfile/dockerfile.js":"47ac","./dtd/dtd.js":"fd82","./dylan/dylan.js":"3cb1","./ebnf/ebnf.js":"02f2","./ecl/ecl.js":"ad2a","./eiffel/eiffel.js":"b7ce","./elm/elm.js":"45b6","./erlang/erlang.js":"f514","./factor/factor.js":"cafe","./fcl/fcl.js":"c6fb","./forth/forth.js":"0839","./fortran/fortran.js":"518b","./gas/gas.js":"529a","./gfm/gfm.js":"44a0","./gherkin/gherkin.js":"b640","./go/go.js":"4ff4","./groovy/groovy.js":"5fb4","./haml/haml.js":"73e6","./handlebars/handlebars.js":"e1de","./haskell-literate/haskell-literate.js":"20d7","./haskell/haskell.js":"d3e0","./haxe/haxe.js":"59ef","./htmlembedded/htmlembedded.js":"74bb","./htmlmixed/htmlmixed.js":"d69f","./http/http.js":"b1c1","./idl/idl.js":"1eaa","./javascript/javascript.js":"f9d4","./jinja2/jinja2.js":"4e80","./jsx/jsx.js":"a279","./julia/julia.js":"346a","./livescript/livescript.js":"e515","./lua/lua.js":"8eb3","./markdown/markdown.js":"959b","./mathematica/mathematica.js":"ced6","./mbox/mbox.js":"ea60","./meta.js":"f040","./mirc/mirc.js":"a399","./mllike/mllike.js":"354f","./modelica/modelica.js":"9508","./mscgen/mscgen.js":"ea04","./mumps/mumps.js":"43bb","./nginx/nginx.js":"b2b9","./nsis/nsis.js":"6d82","./ntriples/ntriples.js":"3d60","./octave/octave.js":"9b26","./oz/oz.js":"ca19","./pascal/pascal.js":"941f","./pegjs/pegjs.js":"6466","./perl/perl.js":"906f","./php/php.js":"44d5","./pig/pig.js":"f3ad3","./powershell/powershell.js":"9da3","./properties/properties.js":"dc5b","./protobuf/protobuf.js":"707c","./pug/pug.js":"5bef","./puppet/puppet.js":"730a","./python/python.js":"db91","./q/q.js":"322a","./r/r.js":"903e","./rpm/rpm.js":"42ce","./rst/rst.js":"8c84","./ruby/ruby.js":"8536","./rust/rust.js":"b18e","./sas/sas.js":"4a1d","./sass/sass.js":"1b63","./scheme/scheme.js":"f307","./shell/shell.js":"02f0","./sieve/sieve.js":"d5d4","./slim/slim.js":"548d","./smalltalk/smalltalk.js":"9f83","./smarty/smarty.js":"4168","./solr/solr.js":"c611","./soy/soy.js":"bc7f","./sparql/sparql.js":"fbe7","./spreadsheet/spreadsheet.js":"6c45","./sql/sql.js":"ffda","./stex/stex.js":"f8d2","./stylus/stylus.js":"76d2","./swift/swift.js":"c0e2","./tcl/tcl.js":"0440","./textile/textile.js":"4c3d","./tiddlywiki/tiddlywiki.js":"f7e3","./tiki/tiki.js":"2a6e","./toml/toml.js":"d2ca","./tornado/tornado.js":"c5b3","./troff/troff.js":"b35a","./ttcn-cfg/ttcn-cfg.js":"8664","./ttcn/ttcn.js":"4d8a","./turtle/turtle.js":"3f73","./twig/twig.js":"4882","./vb/vb.js":"2abe","./vbscript/vbscript.js":"6b16","./velocity/velocity.js":"fe46","./verilog/verilog.js":"9b66","./vhdl/vhdl.js":"3cfe","./vue/vue.js":"693d","./webidl/webidl.js":"3d58","./xml/xml.js":"d5e0","./xquery/xquery.js":"6c91","./yacas/yacas.js":"5938","./yaml-frontmatter/yaml-frontmatter.js":"d202","./yaml/yaml.js":"ced0","./z80/z80.js":"7511"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="7936"},"7a1a":function(e,t,a){"use strict";var n=a("fd0c"),r=a.n(n);r.a},"7ca4":function(e,t,a){"use strict";var n=a("2902"),r=a.n(n);r.a},8073:function(e,t,a){},"82c5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"none"},attrs:{id:"jsonData"}}),a("div",{attrs:{id:"pathTips"}}),a("div",{staticClass:"min disTransition",staticStyle:{display:"none"},attrs:{id:"panel"}},[a("span",{attrs:{id:"minBtn"}},[e._v("◥")]),a("div",{attrs:{id:"valueAct"}},[a("div",{staticClass:"topBox"},[a("span",{staticClass:"inputTitle langID_title_1"},[e._v("Path: ")]),a("input",{staticClass:"textInpub",attrs:{type:"text",id:"showPath",readonly:"true"}}),a("br"),a("span",{staticClass:"lableInput"},[a("span",{staticClass:"inputTitle langID_title_2"},[e._v("Key: ")]),a("input",{staticClass:"textInpub",attrs:{type:"text",id:"showKey"}}),a("span",[e._v(" :")])]),a("span",[a("button",{staticClass:"langID_button_9",attrs:{id:"copyValue"}},[e._v("复制")]),a("span",{staticClass:"copy-tips langID_msg_6",attrs:{id:"copyTips"}})]),a("br")]),a("textarea",{attrs:{id:"showValue",rows:"22",cols:"66",spellcheck:"false"}}),a("br"),a("div",{staticClass:"bottomBox"},[a("a",{staticClass:"langID_title_3",attrs:{href:"#",target:"_blank",id:"showLink"}},[e._v("Link")]),a("button",{staticClass:"langID_button_1",attrs:{id:"saveBtn",type:"button"}},[e._v(" 修改 ")]),a("button",{staticClass:"langID_button_5",staticStyle:{visibility:"hidden"},attrs:{id:"undoBtn",type:"button"}},[e._v(" ⇦撤销 ")]),a("button",{staticClass:"langID_button_6",staticStyle:{visibility:"hidden"},attrs:{id:"redoBtn",type:"button"}},[e._v(" 前进⇨ ")]),a("div",{attrs:{id:"msgBox"}}),a("button",{staticClass:"langID_button_7",attrs:{id:"gotoCur",type:"button"}},[e._v(" gotoCur ")]),a("button",{staticClass:"langID_button_4",attrs:{id:"expandAll",type:"button"}},[e._v(" expandAll ")]),a("button",{staticClass:"langID_button_2",attrs:{id:"collapseAll",type:"button"}},[e._v(" collapseAll ")]),a("button",{staticClass:"langID_button_3",attrs:{id:"expandCur",type:"button"}},[e._v(" expandCur ")]),a("br"),a("br"),a("input",{attrs:{type:"checkbox",id:"showValueInNav",checked:"checked"}}),a("label",{staticClass:"langID_label_1",attrs:{for:"showValueInNav"}},[e._v("显示值")]),a("span",{attrs:{id:"showImgAuto"}},[a("input",{attrs:{type:"checkbox",id:"showImg"}}),a("label",{staticClass:"langID_label_4",attrs:{for:"showImg"}},[e._v("自动展示图片")])]),a("span",[a("input",{attrs:{type:"checkbox",id:"showArrLeng"}}),a("label",{staticClass:"langID_label_5",attrs:{for:"showArrLeng"}},[e._v("显示数组长度")])]),a("input",{attrs:{type:"checkbox",id:"showIco"}}),a("label",{staticClass:"langID_label_2",attrs:{for:"showIco"}},[e._v("图标")]),a("span",{attrs:{id:"showIcoAsFolder"}},[a("input",{attrs:{type:"checkbox",id:"icoAsFolder"}}),a("label",{staticClass:"langID_label_3",attrs:{for:"icoAsFolder"}},[e._v("文件夹风格")])]),a("div",{staticClass:"tools2"},[a("button",{staticClass:"langID_button_8",staticStyle:{display:"none"},attrs:{disabled:"true",id:"saveFile",type:"button"}},[e._v(" saveFile ")])])])]),a("button",{staticClass:"setting-btn langTitleID_title_10",attrs:{id:"optBtn",type:"button"}}),a("div",{attrs:{id:"rcmd"}})]),a("div",{staticClass:"treeNav",attrs:{id:"jsonNav"}}),a("div",{staticStyle:{display:"none"},attrs:{id:"mask"}},[a("div",{attrs:{id:"enterInputDialog"}},[a("div",{attrs:{id:"enterInputTips"}},[a("label",{attrs:{for:"enterValue"}},[e._v("Input JSON String... ")])]),a("form",{attrs:{id:"enterForm",method:"get",action:""}},[a("textarea",{attrs:{id:"enterValue",name:"enterValue",spellcheck:"false"}}),a("br"),a("button",{attrs:{id:"jsObjEnterOk",type:"button",name:"inputFormat",value:"jsObj",title:"input string is js object code."}},[e._v(" js object ")]),a("button",{attrs:{id:"enterOk",type:"submit"}},[e._v("OK")])])])]),a("span",{staticStyle:{display:"none"},attrs:{id:"sigh"}},[e._v("!")]),a("div",{staticStyle:{display:"none"},attrs:{id:"errorTips"}},[a("div",{attrs:{id:"errorBtn"}},[a("span",{attrs:{id:"closeError"}},[e._v("☓")])]),a("div",{attrs:{id:"tipsBox"}}),a("div",{attrs:{id:"errorCode"}})]),a("div",{attrs:{id:"hideBox"}})])}],s=a("d4ec"),i=a("bee2"),o=a("99de"),c=a("7e84"),_=a("262e"),l=a("9ab4"),u=a("60a3"),d=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.JH=null,e}return Object(_["a"])(t,e),Object(i["a"])(t,[{key:"onjsonDataChange",value:function(){this.JH&&this.JH.md.jsonH._pri.uiEvtCallback.submitEnterForm(this.jsonData)}},{key:"created",value:function(){var e=this;window.EventCustomer.addListener("get_jh",(function(t){e.JH=t,e.JH.md.jsonH._pri.uiEvtCallback.submitEnterForm(e.jsonData)})),chrome.extension=chrome.extension||{sendRequest:function(e,t){config.mode="",t({})}},setTimeout((function(){JH.request({}).create(null,"getIni",{succeed:function(e){var t=function(){var e={},t={},a=function(a){if(JH.md.jsonH.language=a.lang,JH.md.jsonH.oIni=a,e.oIni=a,"request"===config.mode){var n=JH.request(t),r=n.create(JH.request.NS.jsonH,"getJsonString",{succeed:function(t,a){e.startJsonH(t.data)}});try{r.send("first view")}catch(s){e.startJsonH()}}else"script_string"===config.mode?e.startJsonH(script_JsonString):"dom"===config.mode?e.startJsonH($("#jsonData").html()):e.startJsonH()};return e["startJsonH"]=function(t){var a=JH.md.jsonH(t);window.EventCustomer.emit("get_jh",JH),JH.e("#enterValue").select(),e.oIni&&(JH.e("#showValueInNav").checked=void 0===e.oIni.showValue||e.oIni.showValue,a.checkShowValueInNav(JH.e("#showValueInNav")),JH.e("#showImg").checked=e.oIni.showImg,a.checkShowImg(JH.e("#showImg")),JH.e("#showArrLeng").checked=e.oIni.showArrLeng,a.checkShowArrLeng(JH.e("#showArrLeng")),JH.e("#showIco").checked=e.oIni.showIco,a.checkShowIco(JH.e("#showIco")),JH.e("#icoAsFolder").checked="folder"==e.oIni.showStyle,a.checkIcoAsFolderBtn(JH.e("#icoAsFolder")),e.oIni.holdPanel?a.showPanel(!0):a.hidePanel(!0))},e["jsonH_error"]=function(e){alert(e)},a.apply(t,arguments),t};return t(e.data)}}).send()}))}}]),t}(u["c"]);l["b"]([Object(u["b"])({default:JSON.stringify({})}),l["c"]("design:type",String)],d.prototype,"jsonData",void 0),l["b"]([Object(u["d"])("jsonData",{immediate:!0}),l["c"]("design:type",Function),l["c"]("design:paramtypes",[]),l["c"]("design:returntype",void 0)],d.prototype,"onjsonDataChange",null),d=l["b"]([Object(u["a"])({name:"JsonHandler"})],d);var p=d,m=p,b=(a("2b4a"),a("2877")),f=Object(b["a"])(m,n,r,!1,null,"d5f31dec",null);t["a"]=f.exports},"8d3d":function(e,t,a){},"9c0c":function(e,t,a){},a78f:function(e,t,a){"use strict";var n=a("46f0"),r=a.n(n);r.a},ac1a:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a("a9e3");var n=a("d4ec"),r=a("bee2"),s=a("99de"),i=a("7e84"),o=a("262e"),c=a("9ab4"),_=a("6fc5"),l=a("0613"),u=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(s["a"])(this,Object(i["a"])(t).apply(this,arguments)),e.showDashboard=!1,e.insertData={data:{}},e.dashboardTabIndex=0,e.showComponentBox=!1,e.componentIs="",e.insertPosition={},e.uuid="",e.boxUuid="",e.activeTreeIndex=2,e.activeCompId="",e}return Object(o["a"])(t,e),Object(r["a"])(t,[{key:"SHOW_DASHBOARD",value:function(e){this.showDashboard=e}},{key:"INSERT_DATA",value:function(e){this.insertData=e}},{key:"SHOW_COMPONENT",value:function(e){this.showComponentBox=e}},{key:"COMPONENT_IS",value:function(e){this.componentIs=e}},{key:"INSERT_POSITION",value:function(e){this.insertPosition=e}},{key:"SET_UUID",value:function(e){this.uuid=e}},{key:"SET_BOXUUID",value:function(e){this.boxUuid=e}},{key:"SET_ACTIVE_TREE_INDEX",value:function(e){this.activeTreeIndex=e}},{key:"SET_ACTIVE_COMP_ID",value:function(e){this.activeCompId=e}},{key:"SetShowDashboard",value:function(e){this.SHOW_DASHBOARD(e)}},{key:"InsertData",value:function(e){this.INSERT_DATA(e)}},{key:"SetShowComponent",value:function(e){this.SHOW_COMPONENT(e)}},{key:"SetComponentIs",value:function(e){this.COMPONENT_IS(e)}},{key:"InsertPosition",value:function(e){this.INSERT_POSITION(e)}},{key:"setUuid",value:function(e){this.SET_UUID(e)}},{key:"setBoxUuid",value:function(e){this.SET_BOXUUID(e)}},{key:"setActiveTreeIndex",value:function(e){this.SET_ACTIVE_TREE_INDEX(e)}},{key:"setActiveCompId",value:function(e){this.SET_ACTIVE_COMP_ID(e)}}]),t}(_["d"]);c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Boolean]),c["c"]("design:returntype",void 0)],u.prototype,"SHOW_DASHBOARD",null),c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Object]),c["c"]("design:returntype",void 0)],u.prototype,"INSERT_DATA",null),c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Boolean]),c["c"]("design:returntype",void 0)],u.prototype,"SHOW_COMPONENT",null),c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[String]),c["c"]("design:returntype",void 0)],u.prototype,"COMPONENT_IS",null),c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Object]),c["c"]("design:returntype",void 0)],u.prototype,"INSERT_POSITION",null),c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[String]),c["c"]("design:returntype",void 0)],u.prototype,"SET_UUID",null),c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[String]),c["c"]("design:returntype",void 0)],u.prototype,"SET_BOXUUID",null),c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Number]),c["c"]("design:returntype",void 0)],u.prototype,"SET_ACTIVE_TREE_INDEX",null),c["b"]([_["c"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[String]),c["c"]("design:returntype",void 0)],u.prototype,"SET_ACTIVE_COMP_ID",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Boolean]),c["c"]("design:returntype",void 0)],u.prototype,"SetShowDashboard",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Object]),c["c"]("design:returntype",void 0)],u.prototype,"InsertData",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Boolean]),c["c"]("design:returntype",void 0)],u.prototype,"SetShowComponent",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[String]),c["c"]("design:returntype",void 0)],u.prototype,"SetComponentIs",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Object]),c["c"]("design:returntype",void 0)],u.prototype,"InsertPosition",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[String]),c["c"]("design:returntype",void 0)],u.prototype,"setUuid",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[String]),c["c"]("design:returntype",void 0)],u.prototype,"setBoxUuid",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[Number]),c["c"]("design:returntype",void 0)],u.prototype,"setActiveTreeIndex",null),c["b"]([_["a"],c["c"]("design:type",Function),c["c"]("design:paramtypes",[String]),c["c"]("design:returntype",void 0)],u.prototype,"setActiveCompId",null),u=c["b"]([Object(_["b"])({dynamic:!0,store:l["a"],name:"app"})],u);var d=Object(_["e"])(u)},ba24:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_1__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1da1"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d4ec"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("bee2"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("99de"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("7e84"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("262e"),tslib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("9ab4"),vue_property_decorator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("60a3"),_store_modules_setting__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("416d"),_store_modules_app__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("ac1a"),_util_socket_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("3ebd"),_components_jsonhandler_index_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("82c5"),_RuleList_vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("5d4b"),lodash__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_16__),default_1=function(_Vue){function default_1(){var e;return Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__["a"])(this,default_1),e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__["a"])(this,Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__["a"])(default_1).apply(this,arguments)),e.activeNames=["1","2","3"],e.setting={dataCode:"",inline:!1},e.tabActiveName="first",e.jsonData='"{}"',e.jsonItemData='"{}"',e.activeNameCode="code",e.activeItemCode="code",e.tempCode="",e.showCodeDraw=!1,e.codeEditType="",e.uuid="",e.config={model:{attr:{}}},e.formOptions={validateAfterLoad:!0,validateAfterChanged:!0,validateAsync:!0},e}return Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__["a"])(default_1,_Vue),Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__["a"])(default_1,[{key:"created",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.EventCustomer.addListener("click_json_tree_callback",(function(e){try{t.config.model.attr["v-model"]="JSON"===e.path?"":e.path.replace("JSON.","")}catch(a){}})),window.addEventListener("message",function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(a){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.data,"client.dispatch.component"!==n.handler){e.next=9;break}return t.uuid=lodash__WEBPACK_IMPORTED_MODULE_16___default.a.get(n,"data.params.uuid"),e.next=5,_util_socket_js__WEBPACK_IMPORTED_MODULE_13__["a"].emit("generator.scene.getConfig",{uuid:t.uuid});case 5:r=e.sent,_store_modules_app__WEBPACK_IMPORTED_MODULE_12__["a"].setActiveCompId(t.uuid),t.config=r,t.refresh();case 9:if("client.dispatch.box"!==n.handler){e.next=17;break}return t.uuid=lodash__WEBPACK_IMPORTED_MODULE_16___default.a.get(n,"data.params.uuid"),_store_modules_app__WEBPACK_IMPORTED_MODULE_12__["a"].setActiveCompId(t.uuid),e.next=14,_util_socket_js__WEBPACK_IMPORTED_MODULE_13__["a"].emit("generator.scene.getConfig",{uuid:lodash__WEBPACK_IMPORTED_MODULE_16___default.a.get(n,"uuid")});case 14:s=e.sent,t.config=s,t.refresh();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"refresh",value:function(){var e=this.$refs.codemirror;e&&e.codemirror.refresh()}},{key:"showSettingHandler",value:function(){_store_modules_setting__WEBPACK_IMPORTED_MODULE_11__["a"].setShowSettingHandler(!_store_modules_setting__WEBPACK_IMPORTED_MODULE_11__["a"].showSetting)}},{key:"handleCodeClick",value:function handleCodeClick(){"json"===this.activeNameCode&&(this.jsonData=JSON.stringify(eval("function getData () {".concat(this.setting.dataCode,"; return data;} getData()"))))}},{key:"handleCodeItemClick",value:function handleCodeItemClick(){"json"===this.activeItemCode&&(this.jsonItemData=JSON.stringify(eval("function getData () {".concat(this.config._attr[":default"],"; return data;} getData()"))))}},{key:"handleClick",value:function(){}},{key:"syncConfig",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.uuid&&this.config){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_util_socket_js__WEBPACK_IMPORTED_MODULE_13__["a"].emit("generator.scene.settingConfig",{boxUuid:_store_modules_app__WEBPACK_IMPORTED_MODULE_12__["a"].boxUuid,data:{uuid:this.uuid,config:this.config}});case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"expansionHandler",value:function(e){this.showCodeDraw=!0,this.codeEditType=e}},{key:"sureCodeHandler",value:function(){this.showCodeDraw=!1,this.setting.dataCode=this.tempCode}}]),default_1}(vue_property_decorator__WEBPACK_IMPORTED_MODULE_10__["c"]);default_1=tslib__WEBPACK_IMPORTED_MODULE_9__["b"]([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_10__["a"])({name:"Setting",components:{JsonHandler:_components_jsonhandler_index_vue__WEBPACK_IMPORTED_MODULE_14__["a"],RuleList:_RuleList_vue__WEBPACK_IMPORTED_MODULE_15__["a"]}})],default_1),__webpack_exports__["a"]=default_1},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-container",{staticClass:"container"},[a("el-header",{attrs:{height:"45px"}},[a("top-toolbar")],1),a("el-container",{staticStyle:{height:"calc(100% - 45px)"}},[a("div",[a("comp-box")],1),a("el-main",[a("div",{staticClass:"main"},[a("div",{staticClass:"editor-box"},[a("iframe",{ref:"viewContent",staticClass:"view-content",attrs:{id:"viewContent",src:"http://localhost:9000/"}})])])]),a("div",[a("setting",{attrs:{"setting-data":"settingData"}})],1)],1)],1),e.showDashboard?a("div",{staticClass:"dashboard-box"},[a("dashboard",{attrs:{"tab-index":e.dashboardTabIndex},on:{"on-selected":function(t){return e.selectedHandler(e.data)}}})],1):e._e()],1)},s=[],i=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("ac1f"),a("1276"),a("159b"),a("ade3")),o=(a("96cf"),a("1da1")),c=a("d4ec"),l=a("bee2"),u=a("99de"),d=a("7e84"),p=a("262e"),m=a("9ab4"),b=a("60a3"),f=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo"},[a("div",{staticClass:"logo-box"})])}],g={},v=g,w=(a("2941"),a("2877")),O=Object(w["a"])(v,f,h,!1,null,"ada525ec",null),y=O.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[e._m(0),a("el-container",[a("el-container",[a("el-container",[a("el-main",[a("div",{staticClass:"dashboard-blocks"},[a("block-box",{attrs:{list:e.list,type:e.activeName}})],1)])],1)],1)],1),a("div",{staticClass:"dashboard-close",on:{click:e.handleClose}},[a("i",{staticClass:"el-icon-error dashboard-close__icon"})])],1)},C=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-tab"},[a("div",{staticClass:"dashboard-tab__operate--right"})])}],E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blockbox"},[a("ul",{staticClass:"blockbox-list"},e._l(e.list,(function(t){return a("li",{key:t.key,staticClass:"blockbox-item"},[a("block-item",{attrs:{info:t,type:e.type}})],1)})),0)])},j=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("div",{staticClass:"block__toolbar"},[a("div",{staticClass:"block__preview",style:{"background-image":"url("+e.info.img+")"}}),a("div",{staticClass:"block__operate"},[a("div",{staticStyle:{"margin-bottom":"4px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.openComponentDialog}},[e._v("添加组件")])],1),a("div")])]),a("div",{staticClass:"block-content"},[a("h2",{staticClass:"block-title"},[e._v(e._s(e.info.title))]),a("p",{staticClass:"block-des"},[e._v(e._s(e.info.description))]),a("div",{staticClass:"block-label__box"},e._l(e.info.tags,(function(t,n){return a("span",{key:n,staticClass:"block-label__item"},[e._v(e._s(t))])})),0)])])},x=[],P=(a("b0c0"),a("ac1a")),I=a("3ebd"),M=a("63c0"),T=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.name="",e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"openComponentDialog",value:function(){this.addBlock()}},{key:"addComponent",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={boxUuid:P["a"].boxUuid,data:{boxData:this.insertData.data,key:this.info.key,name:this.name}},M["a"].open(),e.next=4,I["a"].emit("generator.scene.addComponent",t);case 4:M["a"].close(),P["a"].SetShowDashboard(!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addBlock",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={boxUuid:this.boxUuid,data:{boxData:this.insertData.data,key:this.info.key,name:this.name,originData:this.info.originData}},P["a"].SetShowDashboard(!1),M["a"].open(),e.next=5,I["a"].emit("generator.scene.addBlock",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"insertData",get:function(){return P["a"].insertData}},{key:"boxUuid",get:function(){return P["a"].boxUuid}}]),t}(b["c"]);m["b"]([Object(b["b"])({default:function(){}}),m["c"]("design:type",Object)],T.prototype,"info",void 0),m["b"]([Object(b["b"])({default:function(){}}),m["c"]("design:type",Object)],T.prototype,"type",void 0),T=m["b"]([Object(b["a"])({})],T);var R=T,U=R,B=(a("d915"),Object(w["a"])(U,D,x,!1,null,"4cbd1409",null)),A=B.exports,S=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),t}(b["c"]);m["b"]([Object(b["b"])({default:function(){return[]}}),m["c"]("design:type",Object)],S.prototype,"list",void 0),m["b"]([Object(b["b"])(),m["c"]("design:type",String)],S.prototype,"type",void 0),S=m["b"]([Object(b["a"])({components:{BlockItem:A}})],S);var L=S,W=L,K=(a("75fa"),Object(w["a"])(W,E,j,!1,null,"e5f23c2a",null)),N=K.exports,H=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.activeName="0",e.searchText="",e.list=[],e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("material.index.getBlocks");case 2:t=e.sent,this.list=t.list;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleTab",value:function(e){}},{key:"handleClose",value:function(){P["a"].SetShowDashboard(!1)}}]),t}(b["c"]);H=m["b"]([Object(b["a"])({components:{BlockBox:N}})],H);var q=H,F=q,V=(a("5f2c"),Object(w["a"])(F,k,C,!1,null,"4d0f793d",null)),$=V.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toolbar",on:{click:e.toolbarClick}},[a("div",{staticClass:"toolbar__item"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"重置",placement:"top"}},[a("span",{on:{click:e.trashHandler}},[a("font-awesome-icon",{attrs:{icon:["fas","trash-restore-alt"]}})],1)])],1),a("div",{staticClass:"toolbar__item toolbar__preview"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"预览",placement:"top"}},[a("span",{class:{"active-preview":e.previewStatus},on:{click:e.previewHandler}},[a("font-awesome-icon",{attrs:{icon:["fas","eye"]}})],1)])],1),a("div",{staticClass:"toolbar__item"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"导出",placement:"top"}},[a("span",{on:{click:e.fileExportHandler}},[a("font-awesome-icon",{attrs:{icon:["fas","file-export"]}})],1)])],1),a("div",{staticClass:"toolbar__item"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"源代码",placement:"top"}},[a("span",{on:{click:e.openEditorHandler}},[a("font-awesome-icon",{attrs:{icon:["fas","code"]}})],1)])],1),a("div",{staticClass:"toolbar__item"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"保存",placement:"top"}},[a("i",{staticClass:"iconfont icon-baocun",on:{click:e.saveScene}})])],1),e.workFolder?a("file-export",{attrs:{"dialog-visible":e.dialogVisible,"work-folder":e.workFolder},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t}}}):e._e(),a("el-dialog",{attrs:{title:"创建模块",width:"400px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模块名称",required:""}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"预览图"}},[a("img",{attrs:{src:e.form.url,width:"280"}})])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.sureSaveScene}},[e._v("确 定")])],1)],1)],1)},z=[],G=(a("c975"),a("841c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"提示",visible:e.fileVisible,width:"460px","before-close":e.handleClose},on:{"update:visible":function(t){e.fileVisible=t}}},[a("div",{staticClass:"path-box"},[a("span",{staticClass:"path-up el-icon-top",on:{click:e.upDirHandler}}),a("el-input",{attrs:{placeholder:"请选择目录",size:"small",disabled:e.pathInputDisable},model:{value:e.pathName,callback:function(t){e.pathName=t},expression:"pathName"}},[a("i",{staticClass:"el-input__icon el-icon-edit",attrs:{slot:"suffix"},on:{click:e.editPathHandler},slot:"suffix"})])],1),a("div",{staticClass:"folder-box"},[a("el-input",{attrs:{placeholder:"新建文件夹",size:"small"},model:{value:e.folderName,callback:function(t){e.folderName=t},expression:"folderName"}})],1),a("ul",{staticClass:"dir-list"},e._l(e.folderInfo.directories,(function(t,n){return a("li",{key:n,staticClass:"dir-item",on:{click:function(a){return e.downDirHandler(t)}}},[a("span",{staticClass:"dir-icon el-icon-folder-opened"}),a("span",[e._v(e._s(t))])])})),0),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.fileVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.exportHandler}},[e._v("确 定")])],1)])}),Z=[],X=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.pathName="",e.pathInputDisable=!0,e.folderInfo={path:"",directories:[]},e.folderName="",e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){this.folderInfo=this.workFolder,this.pathName=this.folderInfo.path}},{key:"handleClose",value:function(){this.fileVisible=!1}},{key:"editPathHandler",value:function(){this.pathInputDisable=!this.pathInputDisable}},{key:"upDirHandler",value:function(){this.downDirHandler("..")}},{key:"downDirHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("home.setting.setWorkFolderBySub",{subDirectory:t});case 2:a=e.sent,n=a.path,r=a.directories,this.folderInfo.directories=r,this.pathName=n,this.pathInputDisable=!0;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"exportHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("generator.toolbar.exportFile",{directory:this.pathName,folderName:this.folderName});case 2:this.fileVisible=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fileVisible",get:function(){return this.dialogVisible},set:function(e){this.$emit("update:dialogVisible",e)}}]),t}(b["c"]);m["b"]([Object(b["b"])({default:!1}),m["c"]("design:type",Boolean)],X.prototype,"dialogVisible",void 0),m["b"]([Object(b["b"])({default:function(){return[]}}),m["c"]("design:type",Object)],X.prototype,"workFolder",void 0),X=m["b"]([Object(b["a"])({name:"FileExport"})],X);var Q=X,Y=Q,ee=(a("0548"),Object(w["a"])(Y,G,Z,!1,null,"4323fb5c",null)),te=ee.exports,ae=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.previewStatus=0,e.dialogVisible=!1,e.sceneDialogVisible=!1,e.workFolder=null,e.showPopover=!1,e.dialogFormVisible=!1,e.tempSceneUrl="",e.form={name:"",url:""},e.search="",e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("home.setting.workFolder");case 2:t=e.sent,this.workFolder=t,this.init(),I["a"].on("generator.toolbar.openCodeEditor.result",(function(e){a.$message.error("打开编辑器失败，请先手动启动编辑器，或者将编辑器注册到终端命令行中")})),window.addEventListener("message",function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.data,n.handler){e.next=3;break}return e.abrupt("return");case 3:"client.screen.capture"===n.handler&&(a.form.url=n.url);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"previewHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.previewStatus=0===this.previewStatus?1:0,e.next=3,I["a"].emit("generator.toolbar.previewView",{status:this.previewStatus});case 3:location.reload();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("generator.scene.getParams");case 2:t=e.sent,this.previewStatus=t.previewViewStatus;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"trashHandler",value:function(){this.$confirm("此操作将重置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("generator.toolbar.trash");case 2:location.reload();case 3:case"end":return e.stop()}}),e)})))).catch((function(){}))}},{key:"fileExportHandler",value:function(){this.dialogVisible=!0}},{key:"toolbarClick",value:function(){var e=document.querySelector("#viewContent");e.contentWindow.postMessage({handler:"document-click"},"*")}},{key:"saveScene",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dialogFormVisible=!0,t=document.querySelector("#viewContent"),t.contentWindow.postMessage({handler:"html-2-canvas"},"*");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sureSaveScene",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("generator.scene.saveScene",this.form);case 2:this.dialogFormVisible=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSerializeTree",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.querySelector("#viewContent"),t.contentWindow.postMessage({handler:"html-2-canvas"},"*");case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openEditorHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("generator.toolbar.openCodeEditor");case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sceneHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("generator.toolbar.initScene",{name:t});case 2:this.showPopover=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"allowDrop",value:function(e,t,a){return"二级 3-1"!==t.data.label||"inner"!==a}},{key:"allowDrag",value:function(e){return-1===e.data.label.indexOf("三级 3-2-2")}}]),t}(b["c"]);ae=m["b"]([Object(b["a"])({name:"TopToolbar",components:{FileExport:te}})],ae);var ne=ae,re=ne,se=(a("7707"),Object(w["a"])(re,J,z,!1,null,"760eb4a9",null)),ie=se.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setting"},[a("Toolbox")],1)},ce=[],_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toolbox"},[a("el-tabs",{staticClass:"tabs-box",attrs:{type:"border-card"}},[a("el-tab-pane",{staticClass:"widget-collapse",attrs:{label:"工具盒"}},[a("div",{staticClass:"tool-filter"},[a("div",[a("el-input",{attrs:{placeholder:"请输入内容"},on:{input:e.searchChange},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-radio-group",{attrs:{size:"small"},on:{change:e.toggleWidget},model:{value:e.widget,callback:function(t){e.widget=t},expression:"widget"}},[a("el-radio-button",{attrs:{label:"组件"}}),a("el-radio-button",{attrs:{label:"编辑区块"}}),a("el-radio-button",{attrs:{label:"静态区块"}})],1)],1)]),"组件"===e.widget?a("div",{staticClass:"widget-box"},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.compList,(function(t,n){return a("el-collapse-item",{key:n,attrs:{title:t.label,name:n}},[a("div",{staticClass:"comp-list"},e._l(t.list,(function(n,r){return a("div",{key:r,staticClass:"comp-item",on:{mousedown:function(a){return e.mousedownWidget(n,t.type)},click:function(t){return e.addComp(n.key,n.params)}}},[a("div",{staticClass:"drag-box"},[a("div",{staticClass:"drag-box-item"},[a("span",{staticClass:"comp-list-label"},[e._v(e._s(n.label))])])])])})),0)])})),1)],1):e._e(),"编辑区块"===e.widget?a("div",[a("el-collapse",{on:{change:e.handleChange},model:{value:e.editBlockActiveNames,callback:function(t){e.editBlockActiveNames=t},expression:"editBlockActiveNames"}},e._l(e.editBlockList,(function(t,n){return a("el-collapse-item",{key:n,attrs:{title:t.label,name:n}},[a("div",{staticClass:"comp-list"},e._l(t.list,(function(n,r){return a("div",{key:r,staticClass:"edit-box-item",on:{mousedown:function(a){return e.mousedownWidget(n,t.type)},click:function(t){return e.addEditComp(n.key,n.params,n.path)}}},[a("div",{staticClass:"drag-box"},[a("div",{staticClass:"drag-box-item"},[a("span",{staticClass:"comp-list-label"},[e._v(e._s(n.label))])])])])})),0)])})),1)],1):e._e(),"静态区块"===e.widget?a("div",{staticClass:"widget-box"},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.blockNames,callback:function(t){e.blockNames=t},expression:"blockNames"}},[a("el-collapse-item",{attrs:{title:"区块",name:0}},[a("div",{staticClass:"block-list drag-box"},e._l(e.staticBlockList,(function(t){return a("div",{key:t.key,staticClass:"block-item",on:{mousedown:function(a){return e.mousedownWidget(t,"block")},click:function(a){return e.addStaticBlock(t.key,t.originData)}}},[a("div",{staticClass:"block"},[a("div",{staticClass:"block__toolbar"},[a("div",{staticClass:"block__preview",style:{"background-image":"url("+t.img+")"}})]),a("div",{staticClass:"block-content"},[a("h2",{staticClass:"block-title"},[e._v(e._s(t.title))])])])])})),0)])],1)],1):e._e()]),a("el-tab-pane",{staticClass:"widget-collapse",attrs:{label:"属性"}},[a("FormSetting")],1)],1),a("div",[a("el-dialog",{attrs:{width:"360px",title:"创建文件",visible:e.dialogCreateFileVisible},on:{"update:visible":function(t){e.dialogCreateFileVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"文件名"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.fileName,callback:function(t){e.$set(e.form,"fileName",t)},expression:"form.fileName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogCreateFileVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.fileHandler}},[e._v("确定")])],1)],1)],1)],1)},le=[],ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setting-box"},[a("div",{staticStyle:{height:"100%"}},[a("div",[a("span",{staticClass:"update-data",on:{click:function(t){return t.stopPropagation(),e.syncConfig(t)}}},[e._v("更新")])]),a("el-divider"),e.config&&e.config.schema&&e.config.model?a("div",{staticClass:"generator-box"},[a("vue-form-generator",{attrs:{schema:e.config.schema,model:e.config.model,options:e.formOptions}})],1):e._e()],1),a("div",{staticClass:"drawer"})])},de=[],pe=a("ba24"),me=pe["a"],be=(a("24e7"),a("7a1a"),Object(w["a"])(me,ue,de,!1,null,"38ff33bb",null)),fe=be.exports,he=a("aa47");function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var we={components:{FormSetting:fe},data:function(){return{search:"",widget:"组件",compList:[],activeNames:[0,1,2],blockNames:[0],staticBlockList:[],widgetData:{},editBlockList:[],editBlockActiveNames:[0,1,2],form:{fileName:""},dialogCreateFileVisible:!1,fileParams:{}}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getWidgetList=_.debounce(e.getWidgetList,500,{trailing:!0}),e.getWidgetList(""),e.$root.$on("bind_client_drag",(function(t){e.bindClientDrag()})),e.$root.$on("mousedown_widget",(function(t){e.widgetData=t}));case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;window.addEventListener("message",(function(t){"webpack.update.success"===t.data.handler&&setTimeout((function(){e.bindDrag()}),1e3)})),setTimeout((function(){e.bindClientDrag()}),3e3);var t=document.querySelector("#viewContent");t.onload=function(){e.bindDrag()}},methods:{addComp:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r={boxUuid:P["a"].boxUuid,id:e,params:t},"File"!==e){n.next=5;break}return a.dialogCreateFileVisible=!0,a.fileParams={boxUuid:P["a"].boxUuid,id:e,params:t},n.abrupt("return");case 5:return M["a"].open(),n.next=8,I["a"].emit("generator.scene.addComponent",r);case 8:M["a"].close(),a.dialogVisible=!1;case 10:case"end":return n.stop()}}),n)})))()},addEditComp:function(e,t,a){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={boxUuid:P["a"].boxUuid,id:e,params:t,path:a},M["a"].open(),n.next=4,I["a"].emit("generator.scene.addEditComp",r);case 4:M["a"].close();case 5:case"end":return n.stop()}}),n)})))()},mousedownWidget:function(e,t){this.widgetData=e,this.widgetData.id=this.widgetData.key,this.widgetData.type=t},handleChange:function(){},toggleWidget:function(e){"静态区块"===e&&this.getStaticBlock(),"编辑区块"===e&&this.getEditBlockList(),this.bindClientDrag()},getStaticBlock:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I["a"].emit("material.index.getBlocks");case 2:a=t.sent,e.staticBlockList=a.list;case 4:case"end":return t.stop()}}),t)})))()},getEditBlockList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I["a"].emit("generator.data.getEditBlockList");case 2:a=t.sent,e.editBlockList=a;case 4:case"end":return t.stop()}}),t)})))()},addStaticBlock:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return M["a"].open(),a.next=3,I["a"].emit("generator.scene.addBlock",{boxUuid:P["a"].boxUuid,id:e,originData:t});case 3:case"end":return a.stop()}}),a)})))()},bindDrag:function(){var e=this,t=document.querySelector("#viewContent"),a=t.contentDocument;if(a){var n=a.querySelectorAll(".drag-box");n.forEach((function(t){he["a"].create(t,{group:{name:"shared",pull:"clone"},sort:!1,onStart:function(e){},onEnd:function(t){var a=t.item,n=a.getAttribute("data-id"),r=t.to.getAttribute("data-id"),s=a.nextElementSibling&&a.nextElementSibling.getAttribute("data-id");e.dragViewWidget(n,r,s)}})}))}},bindClientDrag:function(){var e=this,t=document.querySelectorAll(".drag-box");t.forEach((function(t){he["a"].create(t,{group:{name:"shared",pull:"clone",put:!1},sort:!1,ghostClass:"sortable-ghost",onStart:function(t){e.$forceUpdate()},onEnd:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var n,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=a.item,r=a.to.getAttribute("data-id"),s=n.nextElementSibling&&n.nextElementSibling.getAttribute("data-id"),n.ownerDocument.querySelector(".sparrow-view")&&n.remove(),"File"!==e.widgetData.key){t.next=8;break}return e.dialogCreateFileVisible=!0,e.fileParams={boxUuid:r,nextSiblingId:s,id:e.widgetData.id,type:e.widgetData.type,params:e.widgetData.params,path:e.widgetData.path||""},t.abrupt("return");case 8:if("block"!==e.widgetData.type){t.next=14;break}return M["a"].open(),t.next=12,I["a"].emit("generator.scene.addBlock",{boxUuid:r,id:e.widgetData.id,type:e.widgetData.type,originData:e.widgetData.originData});case 12:t.next=19;break;case 14:return i={boxUuid:r,nextSiblingId:s,id:e.widgetData.id,type:e.widgetData.type,params:e.widgetData.params,path:e.widgetData.path||""},M["a"].open(),t.next=18,I["a"].emit("generator.scene.addComponent",i);case 18:M["a"].close();case 19:case"end":return t.stop()}}),t)})));function a(e){return t.apply(this,arguments)}return a}()})}))},fileHandler:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dialogCreateFileVisible=!1,M["a"].open(),t.next=4,I["a"].emit("generator.scene.addComponent",ve({},e.fileParams,{fileName:e.form.fileName}));case 4:M["a"].close();case 5:case"end":return t.stop()}}),t)})))()},getWidgetList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,I["a"].emit("generator.data.getWidgetList",{value:e});case 2:n=a.sent,t.compList=n,t.bindClientDrag();case 5:case"end":return a.stop()}}),a)})))()},searchChange:function(e){this.getWidgetList(e)},dragViewWidget:function(e,t,a){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,I["a"].emit("generator.scene.dragViewWidgetHandler",{compId:e,boxId:t,nextSiblingId:a});case 2:setTimeout((function(){n.bindDrag()}),500);case 3:case"end":return r.stop()}}),r)})))()}}},Oe=we,ye=(a("6ae4"),Object(w["a"])(Oe,_e,le,!1,null,"2a6fa592",null)),ke=ye.exports,Ce=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),t}(b["c"]);Ce=m["b"]([Object(b["a"])({name:"Setting",components:{Toolbox:ke}})],Ce);var Ee=Ce,je=Ee,De=(a("000a"),Object(w["a"])(je,oe,ce,!1,null,"77bb815d",null)),xe=De.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-box"},[a("div",{staticClass:"tabs"},[a("div",{staticClass:"tabs-item",class:{active:2===e.activeTreeIndex},on:{click:function(t){return e.tabChange(2)}}},[a("i",{staticClass:"iconfont icon-suohuicaidan-"})]),a("div",{staticClass:"tabs-item",class:{active:0===e.activeTreeIndex},on:{click:function(t){return e.tabChange(0)}}},[a("i",{staticClass:"iconfont icon-tree-table"})]),a("div",{staticClass:"tabs-item",class:{active:3===e.activeTreeIndex},on:{click:function(t){return e.tabChange(3)}}},[a("i",{staticClass:"iconfont icon-changjing"})]),a("div",{staticClass:"tabs-item",class:{active:4===e.activeTreeIndex},on:{click:function(t){return e.tabChange(4)}}},[a("i",{staticClass:"iconfont icon-data"})]),a("div",{staticClass:"tabs-item",class:{active:5===e.activeTreeIndex},on:{click:function(t){return e.tabChange(5)}}},[a("i",{staticClass:"el-icon el-icon-search"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:[0,3,4,5].includes(e.activeTreeIndex),expression:"[0, 3, 4, 5].includes(activeTreeIndex)"}],staticClass:"tabs-body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.activeTreeIndex,expression:"activeTreeIndex === 0"}],staticClass:"tree"},[a("el-tree",{ref:"componentTree",attrs:{data:e.tree,"node-key":"id","current-node-key":e.currentNodeKey,"highlight-current":!0,"default-expand-all":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(n.label))]),e.selectedNode.id&&e.selectedNode.id===r.id?a("div",{staticClass:"tree-tool"},[a("span",[a("i",{staticClass:"iconfont icon-delete1 icon-delete-comp",on:{click:function(t){return e.deleteComponent(r.id)}}})]),"column"===r.label?a("span",{staticClass:"icon-plus"},[a("i",{staticClass:"el-icon-circle-plus",on:{click:function(t){return e.addTableColumn(r.id,n)}}})]):e._e()]):e._e()])}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3===e.activeTreeIndex,expression:"activeTreeIndex === 3"}]},[a("div",{staticClass:"scene-list"},e._l(e.sceneList,(function(t){return a("div",{key:t.name,staticClass:"scene-item"},[a("div",[a("el-card",[a("div",{staticClass:"scene__preview",style:{"background-image":"url("+t.url+")"}})]),a("div",{staticClass:"scene-item__name"},[a("span",{staticClass:"scene-item__title"},[e._v(e._s(t.name))])])],1),a("div",{staticClass:"scene__operate"},[a("div",{staticStyle:{"margin-bottom":"4px"}},[a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.useScene(t.id)}}},[a("i",{staticClass:"iconfont icon-shiyongxuzhi"}),a("span",[e._v("使用")])]),a("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{onConfirm:function(a){return e.deleteScene(t.id)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"iconfont icon-delete1 icon-delete-tree"}),a("span",[e._v("删除")])])],1)],1)])])})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:4===e.activeTreeIndex,expression:"activeTreeIndex === 4"}]},[a("div",{staticClass:"file-box"},[a("div",{staticClass:"codemirror-operate"},[a("span",{staticClass:"update-data",on:{click:function(t){return t.stopPropagation(),e.updateCodeData(t)}}},[e._v("更新")])]),a("el-tabs",{on:{"tab-click":e.handleCodeClick},model:{value:e.activeNameCode,callback:function(t){e.activeNameCode=t},expression:"activeNameCode"}},[a("el-tab-pane",{attrs:{label:"code",name:"code"}},[a("codemirror",{ref:"codemirror",model:{value:e.dataCode,callback:function(t){e.dataCode=t},expression:"dataCode"}})],1),a("el-tab-pane",{attrs:{label:"json",name:"json"}},[a("json-handler",{attrs:{"json-data":e.jsonData}})],1)],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:5===e.activeTreeIndex,expression:"activeTreeIndex === 5"}],staticClass:"tab-content"},[a("div",{staticClass:"custom-comp-box"},[a("div",{staticClass:"toolbar-search"},[a("el-input",{attrs:{placeholder:"搜索组件"},on:{input:e.searchChange},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1),a("div",{staticClass:"comp-box"},[a("div",{staticClass:"comp-list"},e._l(e.customCompList,(function(t,n){return a("div",{key:n,staticClass:"comp-item",on:{click:function(a){return e.addComponent(t)},mousedown:function(a){return e.mousedownWidget(t)}}},[a("div",{staticClass:"drag-box"},[a("div",{staticClass:"drag-box-item"},[a("div",{staticClass:"comp-item__title"},[e._v(e._s(t.label))]),a("div",{staticClass:"comp-item__des"},[e._v(e._s(t.des))])])])])})),0)])])])])])},Ie=[],Me=a("dc15"),Te=Me["a"],Re=(a("7ca4"),Object(w["a"])(Te,Pe,Ie,!1,null,"b09147e2",null)),Ue=Re.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"json-editor"},[a("textarea",{ref:"textarea"})])},Ae=[],Se=a("56b3"),Le=a.n(Se),We=(a("0dd0"),a("a7be"),a("d5db"),a("f9d4"),a("8822"),a("d2de"),{name:"JsonEditor",props:["value"],data:function(){return{jsonEditor:!1}},watch:{value:function(e){var t=this.jsonEditor.getValue();e!==t&&this.jsonEditor.setValue(JSON.stringify(this.value,null,2))}},mounted:function(){var e=this;this.jsonEditor=Le.a.fromTextArea(this.$refs.textarea,{lineNumbers:!0,mode:"application/json",gutters:["CodeMirror-lint-markers"],theme:"neo",lint:!0}),this.jsonEditor.setValue(JSON.stringify(this.value,null,2)),this.jsonEditor.on("change",(function(t){e.$emit("changed",t.getValue()),e.$emit("input",t.getValue())}))},methods:{getValue:function(){return this.jsonEditor.getValue()}}}),Ke=We,Ne=(a("fa14"),Object(w["a"])(Ke,Be,Ae,!1,null,"e93d8d6c",null)),He=Ne.exports;function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ve=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.dashboardTabIndex="0",e.settingData=null,e.settingWidth="80px",e.formIndex=0,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("home.index.init");case 2:window.addEventListener("message",function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var n,r,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.data,n.handler){e.next=3;break}return e.abrupt("return");case 3:if(console.log(n),r=n.handler.split("."),s=r[0],"client"!==s){e.next=18;break}if("client.component.insertLabel"!==n.handler){e.next=12;break}return i={data:Fe({},n.data.params)},e.next=11,I["a"].emit("generator.scene.insertLabel",i);case 11:e.sent;case 12:if("client.component.insertEditText"!==n.handler){e.next=16;break}return o=n.data.params,e.next=16,I["a"].emit("generator.scene.insertEditText",o);case 16:"client.screen.keydown"===n.handler&&(c=n.operate,"ctrl+c"===c?t.copyHandler():"ctrl+v"===c&&t.pasteHandler()),setTimeout((function(){void 0!==n.uuid&&P["a"].setBoxUuid(n.uuid)}),200);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I["a"].on("generator.scene.block.status",(function(e){M["a"].close()})),I["a"].on("generator.force.refresh",(function(e){var t=document.querySelector("#viewContent");setTimeout((function(){t.contentWindow.location.reload(!0)}),500)})),this.settingData={};case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=this.$refs.viewContent;e.addEventListener("click",(function(e){e.stopPropagation()}))}},{key:"pasteHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("generator.scene.pasteHandler",{compId:this.boxUuid});case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"copyHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].emit("generator.scene.copyHandler",{activeCompId:P["a"].activeCompId});case 2:e.sent,this.$message({message:"复制成功",type:"success"});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"selectedHandler",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"showDashboard",get:function(){return P["a"].showDashboard}},{key:"showComponentBox",get:function(){return P["a"].showComponentBox}},{key:"boxUuid",get:function(){return P["a"].boxUuid}}]),t}(b["c"]);Ve=m["b"]([Object(b["a"])({components:{Logo:y,Dashboard:$,TopToolbar:ie,Setting:xe,CompBox:Ue,JsonEditor:He}})],Ve);var $e=Ve,Je=$e,ze=(a("5c0b"),Object(w["a"])(Je,r,s,!1,null,null,null)),Ge=ze.exports,Ze=a("8c4f"),Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[e._v("test")])},Qe=[],Ye=a("2fe1"),et=a("3172"),tt=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){}}]),t}(n["default"]);tt=m["b"]([et["a"],Ye["b"]],tt);var at=tt,nt=at,rt=Object(w["a"])(nt,Xe,Qe,!1,null,null,null),st=rt.exports;n["default"].use(Ze["a"]);var it=[{path:"/",name:"home",component:st}],ot=new Ze["a"]({mode:"history",base:"/public/",routes:it}),ct=ot,_t=a("0613"),lt=a("5c96"),ut=a.n(lt),dt=(a("0fae"),null);function pt(){window.addEventListener("message",function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.data,n=a.uniqueId,!a||!a.handler){e.next=11;break}if(r=a.handler.split(".")[0],"generator"===r){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,I["a"].emit(a.handler,a);case 8:s=e.sent,dt||(dt=document.querySelector("#viewContent")),s&&(s.uniqueId=n,dt.contentWindow.postMessage(s,"*"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1)}var mt=a("ecee"),bt=(a("ed2c"),a("4309")),ft=a.n(bt),ht=(a("92bd"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"array-container"},[a("div",{staticClass:"header"},[a("a",{on:{click:function(t){return e.$emit("removeItem")}}},[a("i",{staticClass:"el-icon-close header__icon"})])]),a("div",{staticClass:"content"},[e._t("default")],2)])}),gt=[],vt={props:["model"],data:function(){return{contentVisible:!1}}},wt=vt,Ot=(a("a78f"),Object(w["a"])(wt,ht,gt,!1,null,"1aa28a24",null)),yt=Ot.exports,kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("codemirror",{ref:"editor",attrs:{options:e.codeMirrorOptions},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},Ct=[],Et=a("53ca"),jt=(a("693d"),a("8f94")),Dt=a.n(jt);a("a7be");var xt={mixins:[ft.a.abstractField],components:{codemirror:jt["codemirror"]},computed:{codeMirrorOptions:function(){if(this.schema.hasOwnProperty("codeMirrorOptions")){var e=this.schema.codeMirrorOptions;if(e.hasOwnProperty("theme"))try{a("0419")("./"+e.theme+".css")}catch(n){console.log({e:n})}if(e.hasOwnProperty("mode")){var t="";"object"===Object(Et["a"])(e.mode)&&e.mode.hasOwnProperty("name")?t=e.mode.name:"string"===typeof e.mode&&(t=e.mode);try{a("7936")("./"+t+"/"+t+".js")}catch(n){console.log({e:n})}}return e}return{}}},mounted:function(){var e=this;setTimeout((function(){e.$refs.editor&&e.$refs.editor.codemirror&&e.$refs.editor.codemirror.refresh()}),1e3)}},Pt=xt,It=Object(w["a"])(Pt,kt,Ct,!1,null,null,null),Mt=It.exports,Tt=a("cf9f"),Rt=a("0cb7"),Ut=a("c074"),Bt=a("ad3d");a("31c5"),a("9948"),a("b933"),a("9b74"),a("f6b6"),a("3c98"),a("9c7b"),a("715d"),a("23de"),a("4ba6"),a("8c33"),a("7289"),a("2aed"),a("d72f"),a("0b6c"),a("9a48"),a("697e"),a("aedd"),a("164b"),a("4895"),a("cbc8"),a("8d70"),a("9f09"),a("a2c1");function At(e){e.use(Dt.a,{options:{tabSize:2,styleActiveLine:!0,lineNumbers:!0,styleSelectedText:!1,line:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],mode:"text/javascript",hintOptions:{completeSingle:!1},keyMap:"sublime",matchBrackets:!0,showCursorWhenSelecting:!0,theme:"neo",extraKeys:{Ctrl:"autocomplete"}}})}At(n["default"]),mt["c"].add(Ut["a"]),mt["c"].add(Ut["b"]),mt["c"].add(Ut["e"]),mt["c"].add(Ut["f"]),mt["c"].add(Ut["c"]),mt["c"].add(Ut["g"]),mt["c"].add(Ut["d"]),n["default"].use(ft.a),n["default"].use(Tt["a"]),n["default"].use(Rt["a"]),n["default"].component("field-sourcecode",Mt),n["default"].component("font-awesome-icon",Bt["a"]),n["default"].component("ArrayContainer",yt),n["default"].config.productionTip=!1,pt(),n["default"].use(ut.a),new n["default"]({router:ct,store:_t["a"],render:function(e){return e(Ge)}}).$mount("#app"),document.domain="localhost",n["default"].prototype.$EventBus=new n["default"]},d915:function(e,t,a){"use strict";var n=a("e58f"),r=a.n(n);r.a},dc15:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("841c"),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1da1"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d4ec"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("bee2"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("99de"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("7e84"),_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("262e"),tslib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("9ab4"),vue_property_decorator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("60a3"),_store_modules_app__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("ac1a"),_util_socket_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("3ebd"),_components_jsonhandler_index_vue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("82c5"),lodash__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_14__),_util_loading__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("63c0"),CompBox=function(_Vue){function CompBox(){var e;return Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__["a"])(this,CompBox),e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__["a"])(this,Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__["a"])(CompBox).apply(this,arguments)),e.componentList=[],e.componentMap={},e.activeIndex=2,e.tree=[],e.selectedNode={},e.currentNodeKey="",e.sceneList=[],e.dataCode="var data = {}",e.jsonData='"{}"',e.activeNameCode="code",e.search="",e.customCompList=[],e.widgetData=null,e}return Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__["a"])(CompBox,_Vue),Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__["a"])(CompBox,[{key:"uuidChange",value:function(){var e=this.$refs.componentTree;e&&e.setCurrentKey(this.uuid),this.selectedNode={id:this.uuid}}},{key:"created",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.insertData.data,a=t.type,n=t.params,e.next=3,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.data.getCompList");case 3:r=e.sent,this.componentMap=r,this.componentList="custominline"!==a?r[a]:r[n.compBox],this.getCustomComp=lodash__WEBPACK_IMPORTED_MODULE_14___default.a.debounce(this.getCustomComp,500,{trailing:!0}),this.getScene();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getScene",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.scene.getScene");case 2:t=e.sent,this.sceneList=t.list;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSceneTree",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.scene.getSceneTree");case 2:t=e.sent,this.tree=[t];case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSceneConfig",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.scene.getConfig",{});case 2:t=e.sent,this.dataCode=t.dataCode;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCustomComp",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(t){var a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.data.getCustomComp",{value:t});case 2:a=e.sent,this.customCompList=a,a&&a.length>0&&this.$nextTick((function(){n.$root.$emit("bind_client_drag")}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"tabChange",value:function(e){var t=this.$refs.codemirror;_store_modules_app__WEBPACK_IMPORTED_MODULE_11__["a"].setActiveTreeIndex(e),this.getSceneTree(),this.getScene(),this.getSceneConfig(),this.getCustomComp(""),setTimeout((function(){t.codemirror.refresh()}),100)}},{key:"handleNodeClick",value:function(e){var t=document.querySelector("#viewContent");t.contentWindow.postMessage({handler:"view.component.selected",uuid:e.id},"*"),this.selectedNode=e,_store_modules_app__WEBPACK_IMPORTED_MODULE_11__["a"].setUuid(e.id)}},{key:"deleteComponent",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.scene.deleteComponent",{id:t});case 2:this.getSceneTree();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"useScene",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.toolbar.useScene",{id:t});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteScene",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.toolbar.deleteScene",{id:t});case 2:e.sent,this.getScene();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addTableColumn",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=a.parent;while(n&&"Table"!=n.label&&"page"!=n.label)n=n.parent;return r={boxUuid:n.key,id:"Table/column.ts"},e.next=5,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.scene.addComponent",r);case 5:this.getSceneTree();case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleCodeClick",value:function handleCodeClick(){"json"===this.activeNameCode&&(this.jsonData=JSON.stringify(eval("function getData () {".concat(this.dataCode,"; return data;} getData()"))))}},{key:"updateCodeData",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.scene.setVueGenerator",{boxUuid:_store_modules_app__WEBPACK_IMPORTED_MODULE_11__["a"].boxUuid,data:{code:this.dataCode}});case 2:t=e.sent,t&&0===t.status&&this.$message({message:"操作成功",type:"success"});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addComponent",value:function(){var e=Object(_Users_haitaowu_real_lab_sparrow_js_sparrow_packages_sparrow_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.path,n=t.key,r=t.params,s={boxUuid:_store_modules_app__WEBPACK_IMPORTED_MODULE_11__["a"].boxUuid,id:n,params:r,path:a},_util_loading__WEBPACK_IMPORTED_MODULE_15__["a"].open(),e.next=5,_util_socket_js__WEBPACK_IMPORTED_MODULE_12__["a"].emit("generator.scene.addComponent",s);case 5:_util_loading__WEBPACK_IMPORTED_MODULE_15__["a"].close();case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchChange",value:function(e){this.getCustomComp(e)}},{key:"mousedownWidget",value:function(e){this.widgetData=e,this.widgetData.id=this.widgetData.key,this.widgetData.type="custom",this.$root.$emit("mousedown_widget",this.widgetData)}},{key:"activeTreeIndex",get:function(){return _store_modules_app__WEBPACK_IMPORTED_MODULE_11__["a"].activeTreeIndex}},{key:"insertData",get:function(){return _store_modules_app__WEBPACK_IMPORTED_MODULE_11__["a"].insertData}},{key:"uuid",get:function(){return _store_modules_app__WEBPACK_IMPORTED_MODULE_11__["a"].uuid}}]),CompBox}(vue_property_decorator__WEBPACK_IMPORTED_MODULE_10__["c"]);tslib__WEBPACK_IMPORTED_MODULE_9__["b"]([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_10__["d"])("uuid",{immediate:!0}),tslib__WEBPACK_IMPORTED_MODULE_9__["c"]("design:type",Function),tslib__WEBPACK_IMPORTED_MODULE_9__["c"]("design:paramtypes",[]),tslib__WEBPACK_IMPORTED_MODULE_9__["c"]("design:returntype",void 0)],CompBox.prototype,"uuidChange",null),CompBox=tslib__WEBPACK_IMPORTED_MODULE_9__["b"]([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_10__["a"])({components:{JsonHandler:_components_jsonhandler_index_vue__WEBPACK_IMPORTED_MODULE_13__["a"]}})],CompBox),__webpack_exports__["a"]=CompBox},e58f:function(e,t,a){},ed2c:function(e,t,a){},f7be:function(e,t,a){"use strict";var n=a("50ac"),r=a.n(n);r.a},fa14:function(e,t,a){"use strict";var n=a("8d3d"),r=a.n(n);r.a},fa56:function(e,t,a){},fd0c:function(e,t,a){}});
//# sourceMappingURL=app.507b5a43.js.map