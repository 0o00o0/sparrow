(function(e){function t(t){for(var a,r,s=t[0],c=t[1],l=t[2],d=0,b=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&b.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(b.length)b.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1:function(e,t){},"2ed0":function(e,t,n){"use strict";var a=n("7a7e"),o=n.n(a);o.a},"48b5":function(e,t,n){"use strict";var a=n("c0b8"),o=n.n(a);o.a},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),o=n.n(a);o.a},"5f01":function(e,t,n){"use strict";var a=n("64f1"),o=n.n(a);o.a},"64f1":function(e,t,n){},6848:function(e,t,n){"use strict";var a=n("770f"),o=n.n(a);o.a},"770f":function(e,t,n){},"7a7e":function(e,t,n){},"9c0c":function(e,t,n){},aee4:function(e,t,n){"use strict";var a=n("be7b"),o=n.n(a);o.a},bde7:function(e,t,n){},be7b:function(e,t,n){},c0b8:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-container",{staticClass:"container"},[n("el-aside",{attrs:{width:"200px"}}),n("el-container",[n("el-main",[n("div",{staticClass:"main"},[n("logo"),n("top-toolbar"),n("div",{staticClass:"editor-box"},[n("iframe",{staticClass:"view-content",attrs:{id:"viewContent",src:"http://localhost:9000/"}})])],1)])],1),n("el-aside",{attrs:{width:"200px"}})],1),e.showDashboard?n("div",{staticClass:"dashboard-box"},[n("dashboard",{attrs:{"tab-index":e.dashboardTabIndex},on:{"on-selected":function(t){return e.selectedHandler(e.data)}}})],1):e._e()],1)},i=[],r=(n("caad"),n("d3b7"),n("1276"),n("96cf"),n("d4ec")),s=n("bee2"),c=n("99de"),l=n("7e84"),u=n("262e"),d=n("9ab4"),b=n("60a3"),p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("img",{staticClass:"logo-img",attrs:{src:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3749090985,1374755556&fm=26&gp=0.jpg"}})])}],h={},v=h,m=(n("2ed0"),n("2877")),g=Object(m["a"])(v,p,f,!1,null,"70a20a3c",null),y=g.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard"},[n("div",{staticClass:"dashboard-tab"},[n("el-tabs",{staticClass:"tab",on:{"tab-click":e.handleTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabsMap,(function(e){return n("el-tab-pane",{key:e.id,attrs:{label:e.title,name:e.id}})})),1),n("div",{staticClass:"dashboard-tab__operate--right"},[n("el-input",{staticClass:"dashboard-search",attrs:{placeholder:"请输入内容"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[n("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1),n("el-container",[n("el-container",[n("el-container",[n("el-main",[n("div",{staticClass:"dashboard-blocks"},[n("block-box",{attrs:{list:e.list,type:e.activeName}})],1)])],1)],1)],1),n("div",{staticClass:"dashboard-close",on:{click:e.handleClose}},[n("i",{staticClass:"el-icon-error dashboard-close__icon"})])],1)},x=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar"},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-5","background-color":"#23232e","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",[e._v("导航一")])]),n("el-menu-item",{attrs:{index:"1-5"}},[e._v("选项1")]),n("el-menu-item",{attrs:{index:"1-2"}},[e._v("选项2")]),n("el-menu-item",{attrs:{index:"1-3"}},[e._v("选项3")]),n("el-menu-item",{attrs:{index:"1-4-1"}},[e._v("选项4")])],2)],1)],1)},w=[],k={methods:{handleOpen:function(e,t){},handleClose:function(e,t){}}},j=k,C=(n("48b5"),Object(m["a"])(j,O,w,!1,null,"bccbdfa0",null)),D=C.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blockbox"},[n("ul",{staticClass:"blockbox-list"},e._l(e.list,(function(t){return n("li",{key:t.key,staticClass:"blockbox-item"},[n("block-item",{attrs:{info:t,type:e.type}})],1)})),0)])},T=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block"},[n("div",{staticClass:"block__toolbar"},[n("div",{staticClass:"block__preview",staticStyle:{"background-image":"url(https://gitee.com/ant-design/ant-design-blocks/raw/master/select-basic/snapshot.png)"}}),n("div",{staticClass:"block__operate"},[n("div",{staticStyle:{"margin-bottom":"4px"}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.openComponentDialog}},[e._v("添加组件")])],1),n("div",[n("el-button",{attrs:{size:"small"}},[e._v("预览图片")])],1)])]),n("div",{staticClass:"block-content"},[n("h2",{staticClass:"block-title"},[e._v(e._s(e.info.title))]),n("p",{staticClass:"block-des"},[e._v(e._s(e.info.description))]),n("div",{staticClass:"block-label__box"},e._l(e.info.tags,(function(t,a){return n("span",{key:a,staticClass:"block-label__item"},[e._v(e._s(t))])})),0)]),n("el-dialog",{attrs:{title:"添加",visible:e.dialogVisible,"modal-append-to-body":!1,width:"300px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"add-component"},[n("span",{staticClass:"add-component__label"},[e._v("变量名:")]),n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.addComponent}},[e._v("确 定")])],1)])],1)},R=[],E=(n("b0c0"),n("6fc5")),A=n("2f62");a["default"].use(A["a"]);var B=new A["a"].Store({}),$=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.showDashboard=!1,e.insertData={boxIndex:-1,data:{}},e.dashboardTabIndex=0,e}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"SHOW_DASHBOARD",value:function(e){this.showDashboard=e}},{key:"INSERT_DATA",value:function(e){this.insertData=e}},{key:"SetShowDashboard",value:function(e){this.SHOW_DASHBOARD(e)}},{key:"InsertData",value:function(e){this.INSERT_DATA(e)}}]),t}(E["d"]);d["b"]([E["c"],d["c"]("design:type",Function),d["c"]("design:paramtypes",[Boolean]),d["c"]("design:returntype",void 0)],$.prototype,"SHOW_DASHBOARD",null),d["b"]([E["c"],d["c"]("design:type",Function),d["c"]("design:paramtypes",[Object]),d["c"]("design:returntype",void 0)],$.prototype,"INSERT_DATA",null),d["b"]([E["a"],d["c"]("design:type",Function),d["c"]("design:paramtypes",[Boolean]),d["c"]("design:returntype",void 0)],$.prototype,"SetShowDashboard",null),d["b"]([E["a"],d["c"]("design:type",Function),d["c"]("design:paramtypes",[Object]),d["c"]("design:returntype",void 0)],$.prototype,"InsertData",null),$=d["b"]([Object(E["b"])({dynamic:!0,store:B,name:"app"})],$);var H=Object(E["e"])($),N=(n("c975"),n("3835")),P=n("8055"),M=n.n(P),F=M()(window.socketUrl||"//127.0.0.1:7001/",{reconnectionAttempts:3,transports:["websocket"]});F.on("error",(function(e){window.console.log("error")})),F.on("connect",(function(){window.console.log("服务连接成功")})),F.on("reconnecting",(function(){window.console.log("reconnecting")})),F.on("reconnect_failed",(function(){window.console.log("reconnect_failed")})),F.on("disconnect",(function(){window.console.log("disconnect")}));var V=F.emit.bind(F);F.emit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var a=t[0];if(a.indexOf("adapter")>-1){var o=a.split("."),i=Object(N["a"])(o,3);i[0],i[1],i[2]}t[1]||t.push({}),t.push((function(t,a){t?n(t):e(a)})),V.apply(void 0,t)}))};var L=F,W=n("5c96"),q=n.n(W),z=null,J={open:function(){z=W["Loading"].service({lock:!0,background:"rgba(0, 0, 0, 0.6)"})},close:function(){z&&z.close()}},G=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.dialogVisible=!1,e.name="",e}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"openComponentDialog",value:function(){"0"===this.type?this.dialogVisible=!0:"1"===this.type&&this.addBlock()}},{key:"addComponent",value:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return e={boxIndex:this.insertData.boxIndex,data:{boxData:this.insertData.data,key:this.info.key,name:this.name}},J.open(),t.next=4,regeneratorRuntime.awrap(L.emit("generator.scene.addComponent",e));case 4:J.close(),this.dialogVisible=!1,H.SetShowDashboard(!1);case 7:case"end":return t.stop()}}),null,this)}},{key:"addBlock",value:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return e={boxIndex:this.insertData.boxIndex,data:{boxData:this.insertData.data,key:this.info.key,name:this.name,originData:this.info.originData}},H.SetShowDashboard(!1),J.open(),t.next=5,regeneratorRuntime.awrap(L.emit("generator.scene.addBlock",e));case 5:case"end":return t.stop()}}),null,this)}},{key:"insertData",get:function(){return H.insertData}}]),t}(b["c"]);d["b"]([Object(b["b"])({default:function(){}}),d["c"]("design:type",Object)],G.prototype,"info",void 0),d["b"]([Object(b["b"])({default:function(){}}),d["c"]("design:type",Object)],G.prototype,"type",void 0),G=d["b"]([Object(b["a"])({})],G);var K=G,Q=K,U=(n("ebdb"),Object(m["a"])(Q,I,R,!1,null,"2e4c9f2a",null)),X=U.exports,Y=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(b["c"]);d["b"]([Object(b["b"])({default:function(){return[]}}),d["c"]("design:type",Object)],Y.prototype,"list",void 0),d["b"]([Object(b["b"])(),d["c"]("design:type",String)],Y.prototype,"type",void 0),Y=d["b"]([Object(b["a"])({components:{BlockItem:X}})],Y);var Z=Y,ee=Z,te=(n("5f01"),Object(m["a"])(ee,S,T,!1,null,"eed4a962",null)),ne=te.exports,ae={},oe=[{title:"组件",value:"0"},{title:"区块",value:"1"},{title:"场景",value:"2"}],ie=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.activeName=e.tabIndex||"0",e.searchText="",e.tabsMap=oe,e.list=[],e}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"created",value:function(){var e,t,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(L.emit("generator.data.getComponentList"));case 2:return e=a.sent,t=e.list,ae[0]=t,a.next=7,regeneratorRuntime.awrap(L.emit("material.index.getBlocks"));case 7:n=a.sent,ae[1]=n.list,this.list=ae[this.activeName];case 10:case"end":return a.stop()}}),null,this)}},{key:"handleTab",value:function(e){console.log(e),console.log("**********9********")}},{key:"handleClose",value:function(){H.SetShowDashboard(!1)}}]),t}(b["c"]);d["b"]([Object(b["b"])({default:"0"}),d["c"]("design:type",String)],ie.prototype,"tabIndex",void 0),ie=d["b"]([Object(b["a"])({components:{Sidebar:D,BlockBox:ne}})],ie);var re=ie,se=re,ce=(n("6848"),Object(m["a"])(se,_,x,!1,null,"998b710c",null)),le=ce.exports,ue=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},de=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toolbar"},[n("div",{staticClass:"toolbar__item toolbar__preview"},[e._v("预览")]),n("div",{staticClass:"toolbar__item toolbar__export"},[e._v("导出")]),n("div",{staticClass:"toolbar__item toolbar__export"},[e._v("源代码")])])}],be=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(b["c"]),pe=be,fe=(n("aee4"),Object(m["a"])(pe,ue,de,!1,null,"750e1b30",null)),he=fe.exports,ve=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.dashboardTabIndex="0",e}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"created",value:function(){var e=this;window.addEventListener("message",(function(t){var n,a;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(n=t.data,n.handler){o.next=3;break}return o.abrupt("return");case 3:if(a=n.handler.split(".")[0],"client"===a){o.next=6;break}return o.abrupt("return");case 6:"client.dashboard.show"===n.handler&&(console.log("insert-data",n),H.InsertData(n),H.SetShowDashboard(!0),["block"].includes(n.data.type)&&(e.dashboardTabIndex="1"));case 7:case"end":return o.stop()}}))})),L.on("generator.scene.block.status",(function(e){J.close(),console.log("**************"),console.log(e)}))}},{key:"selectedHandler",value:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}}))}},{key:"showDashboard",get:function(){return H.showDashboard}}]),t}(b["c"]);ve=d["b"]([Object(b["a"])({components:{Logo:y,Dashboard:le,TopToolbar:he}})],ve);var me=ve,ge=me,ye=(n("5c0b"),Object(m["a"])(ge,o,i,!1,null,null,null)),_e=ye.exports,xe=n("8c4f"),Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._v("test")])},we=[],ke=n("2fe1"),je=n("3172"),Ce=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"mounted",value:function(){}}]),t}(a["default"]);Ce=d["b"]([je["a"],ke["b"]],Ce);var De=Ce,Se=De,Te=Object(m["a"])(Se,Oe,we,!1,null,null,null),Ie=Te.exports;a["default"].use(xe["a"]);var Re=[{path:"/",name:"home",component:Ie}],Ee=new xe["a"]({mode:"history",base:"/",routes:Re}),Ae=Ee,Be=(n("0fae"),null);function $e(){window.addEventListener("message",(function(e){var t,n,a,o;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:if(t=e.data,n=t.uniqueId,!t||!t.handler){i.next=12;break}if(a=t.handler.split(".")[0],"generator"===a){i.next=6;break}return i.abrupt("return");case 6:return console.log("emit-data",t),i.next=9,regeneratorRuntime.awrap(L.emit(t.handler,t));case 9:o=i.sent,Be||(Be=document.querySelector("#viewContent")),o&&(o.uniqueId=n,Be.contentWindow.postMessage(o,"*"));case 12:case"end":return i.stop()}}))}),!1)}a["default"].config.productionTip=!1,$e(),a["default"].use(q.a),new a["default"]({router:Ae,store:B,render:function(e){return e(_e)}}).$mount("#app")},ebdb:function(e,t,n){"use strict";var a=n("bde7"),o=n.n(a);o.a}});
//# sourceMappingURL=app.85353a3a.js.map